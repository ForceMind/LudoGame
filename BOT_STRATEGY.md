# Bot 策略文档 (Bot Strategy)

本文档详细说明了游戏中电脑对手（Bot）的决策逻辑，包括骰子控制策略和走子决策策略。

## 1. 骰子控制策略 (Dice Strategy)

目前 Bot 的骰子控制逻辑与人类玩家保持一致，采用 **Sigmoid 动态平衡算法**，旨在维持游戏的竞争性和平衡性。

### 核心逻辑
Bot 的骰子点数生成不再是纯随机，而是受以下因素影响：

1.  **胜率差值 (Win Rate Diff)**:
    *   计算 Bot 当前的预测胜率与所有玩家平均胜率的差值。
    *   如果 Bot 胜率过高（领先），系统会降低其掷出有利点数（如 6）的概率。
    *   如果 Bot 胜率过低（落后），系统会提高其获得有利点数的概率。

2.  **Sigmoid 函数**:
    *   利用 Sigmoid 函数将胜率差值映射为概率 $P$。
    *   **Group A (1-5)**: 普通点数。
    *   **Group B (6)**: 奖励点数（可再次行动）。
    *   当 Bot 需要被"削弱"时，掷出 Group A 的概率增加；当需要被"增强"时，掷出 Group B 的概率增加。

### 目的
此策略确保 Bot 不会因为纯随机运气而过强或过弱，始终与人类玩家保持胶着的竞争状态，提升游戏体验。

---

## 2. 走子决策策略 (Move Strategy)

当 Bot 掷出点数后，如果有多个棋子可移动，它会根据**评分系统**选择最佳的一步。

### 评分标准 (Scoring System)

Bot 会模拟每一个可移动棋子的走法，并计算得分：

1.  **进终点 (Finish) - 权重: 200**
    *   如果这一步能让棋子到达终点，给予最高优先级。

2.  **吃子 (Capture) - 权重: 100**
    *   如果这一步能吃掉对手的棋子，给予高优先级。这既能阻碍对手，又能增加自己的优势。

3.  **起飞 (Takeoff) - 权重: 50**
    *   如果掷出 6 点且有棋子在基地，优先让棋子起飞进入棋盘。

4.  **进入安全区 (Safe Zone) - 权重: 20**
    *   如果这一步能让棋子停留在安全格（如星号格或起点），给予中等优先级，防止被吃。

5.  **随机因子 (Randomness) - 权重: 0-10**
    *   加入微小的随机分，防止 Bot 在相同局面下总是做出完全一样的机械化选择，增加拟人感。

### 决策流程
1.  获取所有可移动的棋子列表。
    *   如果只有一个，直接移动。
    *   如果没有，跳过回合。
2.  遍历每个棋子，计算移动后的得分。
3.  选择得分最高的棋子进行移动。

---

## 3. 总结

Bot 是一个 **"运气受控，决策理性"** 的对手。
*   **运气上**：它受系统的宏观调控，不会一直运气爆棚，也不会一直倒霉。
*   **决策上**：它贪婪且理性，总是优先追求胜利（进终点）和攻击（吃子），其次才是防守（安全区）和发育（起飞）。
